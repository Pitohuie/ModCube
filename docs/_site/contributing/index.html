<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/ModCube.github.io/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/ModCube.github.io/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(8)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(8) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(8) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list { display: block; } </style> <script src="/ModCube.github.io/assets/js/vendor/lunr.min.js"></script> <script src="/ModCube.github.io/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Contributing | RS-ModCubes</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="Contributing" /> <meta name="author" content="Jiaxi Zheng" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Self-Reconfigurable, Scalable Modular Cubic Robots for Underwater Operations" /> <meta property="og:description" content="Self-Reconfigurable, Scalable Modular Cubic Robots for Underwater Operations" /> <link rel="canonical" href="http://0.0.0.0:4000/ModCube.github.io/contributing/" /> <meta property="og:url" content="http://0.0.0.0:4000/ModCube.github.io/contributing/" /> <meta property="og:site_name" content="RS-ModCubes" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Contributing" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Jiaxi Zheng"},"description":"Self-Reconfigurable, Scalable Modular Cubic Robots for Underwater Operations","headline":"Contributing","url":"http://0.0.0.0:4000/ModCube.github.io/contributing/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/ModCube.github.io/" class="site-title lh-tight"> RS-ModCubes </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/ModCube.github.io/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/ModCube.github.io/architecture/" class="nav-list-link">System Architecture</a></li><li class="nav-list-item"><a href="/ModCube.github.io/tutorials/" class="nav-list-link">Tutorials</a></li><li class="nav-list-item"><a href="/ModCube.github.io/api/" class="nav-list-link">API Documentation</a></li><li class="nav-list-item"><a href="/ModCube.github.io/examples/" class="nav-list-link">Examples</a></li><li class="nav-list-item"><a href="/ModCube.github.io/installation/" class="nav-list-link">Installation Guide</a></li><li class="nav-list-item"><a href="/ModCube.github.io/faq/" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="/ModCube.github.io/contributing/" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/ModCube.github.io/changelog/" class="nav-list-link">Changelog</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/jiaxi-zheng/ModCube.github.io" class="nav-list-link external" > GitHub Repository <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search RS-ModCubes" aria-label="Search RS-ModCubes" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="contributing-to-rs-modcubes"> <a href="#contributing-to-rs-modcubes" class="anchor-heading" aria-labelledby="contributing-to-rs-modcubes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contributing to RS-ModCubes </h1> <p>We welcome contributions to the RS-ModCubes project! This guide will help you understand how to contribute effectively to our open-source underwater robotics platform.</p> <h2 id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h2> <ol> <li><a href="#getting-started">Getting Started</a></li> <li><a href="#development-environment">Development Environment</a></li> <li><a href="#contribution-types">Contribution Types</a></li> <li><a href="#development-workflow">Development Workflow</a></li> <li><a href="#coding-standards">Coding Standards</a></li> <li><a href="#testing-guidelines">Testing Guidelines</a></li> <li><a href="#documentation">Documentation</a></li> <li><a href="#pull-request-process">Pull Request Process</a></li> <li><a href="#community-guidelines">Community Guidelines</a></li> <li><a href="#recognition">Recognition</a></li> </ol> <h2 id="getting-started"> <a href="#getting-started" class="anchor-heading" aria-labelledby="getting-started"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting Started </h2> <h3 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h3> <p>Before contributing, ensure you have:</p> <ul> <li><strong>Git</strong> installed and configured</li> <li><strong>GitHub account</strong> with SSH keys set up</li> <li><strong>ROS development environment</strong> (Melodic or Noetic)</li> <li><strong>Basic understanding</strong> of underwater robotics concepts</li> <li><strong>Familiarity</strong> with C++ and Python programming</li> </ul> <h3 id="first-steps"> <a href="#first-steps" class="anchor-heading" aria-labelledby="first-steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> First Steps </h3> <ol> <li><strong>Fork the repository</strong> on GitHub</li> <li><strong>Clone your fork</strong> locally: <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:YOUR_USERNAME/RS-ModCubes.git
<span class="nb">cd </span>RS-ModCubes
</code></pre></div> </div> </li> <li><strong>Add upstream remote</strong>: <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add upstream git@github.com:ORIGINAL_OWNER/RS-ModCubes.git
</code></pre></div> </div> </li> <li><strong>Set up development environment</strong> following the <a href="installation.md">Installation Guide</a></li> </ol> <h2 id="development-environment"> <a href="#development-environment" class="anchor-heading" aria-labelledby="development-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Development Environment </h2> <h3 id="required-tools"> <a href="#required-tools" class="anchor-heading" aria-labelledby="required-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Required Tools </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install development tools</span>
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
    build-essential <span class="se">\</span>
    cmake <span class="se">\</span>
    git <span class="se">\</span>
    python3-pip <span class="se">\</span>
    clang-format <span class="se">\</span>
    cppcheck <span class="se">\</span>
    valgrind

<span class="c"># Install Python tools</span>
pip3 <span class="nb">install</span> <span class="nt">--user</span> <span class="se">\</span>
    pre-commit <span class="se">\</span>
    black <span class="se">\</span>
    flake8 <span class="se">\</span>
    pytest <span class="se">\</span>
    sphinx
</code></pre></div></div> <h3 id="ide-setup"> <a href="#ide-setup" class="anchor-heading" aria-labelledby="ide-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> IDE Setup </h3> <p>Recommended IDEs with ROS support:</p> <ul> <li><strong>VS Code</strong> with ROS extension</li> <li><strong>CLion</strong> with ROS plugin</li> <li><strong>Qt Creator</strong> with ROS plugin</li> <li><strong>Vim/Neovim</strong> with appropriate plugins</li> </ul> <h3 id="pre-commit-hooks"> <a href="#pre-commit-hooks" class="anchor-heading" aria-labelledby="pre-commit-hooks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pre-commit Hooks </h3> <p>Set up pre-commit hooks to ensure code quality:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install pre-commit</span>
pip3 <span class="nb">install </span>pre-commit

<span class="c"># Install hooks</span>
pre-commit <span class="nb">install</span>

<span class="c"># Run hooks manually</span>
pre-commit run <span class="nt">--all-files</span>
</code></pre></div></div> <h2 id="contribution-types"> <a href="#contribution-types" class="anchor-heading" aria-labelledby="contribution-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contribution Types </h2> <p>We welcome various types of contributions:</p> <h3 id="code-contributions"> <a href="#code-contributions" class="anchor-heading" aria-labelledby="code-contributions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Contributions </h3> <ul> <li><strong>Bug fixes</strong>: Fix existing issues</li> <li><strong>New features</strong>: Add functionality</li> <li><strong>Performance improvements</strong>: Optimize existing code</li> <li><strong>Hardware support</strong>: Add new sensor/actuator drivers</li> <li><strong>Algorithm implementations</strong>: Add new control or estimation algorithms</li> </ul> <h3 id="documentation"> <a href="#documentation" class="anchor-heading" aria-labelledby="documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Documentation </h3> <ul> <li><strong>API documentation</strong>: Document functions and classes</li> <li><strong>Tutorials</strong>: Create step-by-step guides</li> <li><strong>Examples</strong>: Provide usage examples</li> <li><strong>Wiki articles</strong>: Write explanatory content</li> <li><strong>Translation</strong>: Translate documentation to other languages</li> </ul> <h3 id="testing"> <a href="#testing" class="anchor-heading" aria-labelledby="testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing </h3> <ul> <li><strong>Unit tests</strong>: Test individual components</li> <li><strong>Integration tests</strong>: Test component interactions</li> <li><strong>Hardware tests</strong>: Test with real hardware</li> <li><strong>Performance benchmarks</strong>: Measure system performance</li> </ul> <h3 id="community"> <a href="#community" class="anchor-heading" aria-labelledby="community"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Community </h3> <ul> <li><strong>Issue reporting</strong>: Report bugs and suggest features</li> <li><strong>Issue triaging</strong>: Help categorize and prioritize issues</li> <li><strong>Code review</strong>: Review pull requests</li> <li><strong>Community support</strong>: Help other users</li> </ul> <h2 id="development-workflow"> <a href="#development-workflow" class="anchor-heading" aria-labelledby="development-workflow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Development Workflow </h2> <h3 id="branch-strategy"> <a href="#branch-strategy" class="anchor-heading" aria-labelledby="branch-strategy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Branch Strategy </h3> <p>We use a Git flow-based branching strategy:</p> <ul> <li><strong>main</strong>: Stable release branch</li> <li><strong>develop</strong>: Integration branch for new features</li> <li><strong>feature/</strong>: Feature development branches</li> <li><strong>bugfix/</strong>: Bug fix branches</li> <li><strong>hotfix/</strong>: Critical fixes for main branch</li> </ul> <h3 id="creating-a-feature-branch"> <a href="#creating-a-feature-branch" class="anchor-heading" aria-labelledby="creating-a-feature-branch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating a Feature Branch </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Update your fork</span>
git checkout develop
git pull upstream develop

<span class="c"># Create feature branch</span>
git checkout <span class="nt">-b</span> feature/your-feature-name

<span class="c"># Make your changes</span>
<span class="c"># ...</span>

<span class="c"># Commit changes</span>
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Add your feature description"</span>

<span class="c"># Push to your fork</span>
git push origin feature/your-feature-name
</code></pre></div></div> <h3 id="keeping-your-branch-updated"> <a href="#keeping-your-branch-updated" class="anchor-heading" aria-labelledby="keeping-your-branch-updated"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Keeping Your Branch Updated </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Fetch latest changes</span>
git fetch upstream

<span class="c"># Rebase your branch</span>
git rebase upstream/develop

<span class="c"># Force push if needed (be careful!)</span>
git push <span class="nt">--force-with-lease</span> origin feature/your-feature-name
</code></pre></div></div> <h2 id="coding-standards"> <a href="#coding-standards" class="anchor-heading" aria-labelledby="coding-standards"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Coding Standards </h2> <h3 id="c-guidelines"> <a href="#c-guidelines" class="anchor-heading" aria-labelledby="c-guidelines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> C++ Guidelines </h3> <p>We follow the <a href="http://wiki.ros.org/CppStyleGuide">ROS C++ Style Guide</a> with some modifications:</p> <h4 id="naming-conventions"> <a href="#naming-conventions" class="anchor-heading" aria-labelledby="naming-conventions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Naming Conventions </h4> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Classes: PascalCase</span>
<span class="k">class</span> <span class="nc">VehicleController</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="c1">// Methods: camelCase</span>
    <span class="kt">void</span> <span class="n">updateControl</span><span class="p">();</span>
    
    <span class="c1">// Public members: camelCase</span>
    <span class="kt">double</span> <span class="n">maxThrust</span><span class="p">;</span>
    
<span class="nl">private:</span>
    <span class="c1">// Private members: camelCase with trailing underscore</span>
    <span class="kt">double</span> <span class="n">current_thrust_</span><span class="p">;</span>
    
    <span class="c1">// Constants: UPPER_CASE</span>
    <span class="k">static</span> <span class="k">const</span> <span class="kt">double</span> <span class="n">MAX_VELOCITY</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Functions: camelCase</span>
<span class="kt">void</span> <span class="nf">calculateTrajectory</span><span class="p">();</span>

<span class="c1">// Variables: snake_case</span>
<span class="kt">double</span> <span class="n">target_depth</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span><span class="p">;</span>

<span class="c1">// Namespaces: lowercase</span>
<span class="k">namespace</span> <span class="n">modcube_control</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="code-formatting"> <a href="#code-formatting" class="anchor-heading" aria-labelledby="code-formatting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Formatting </h4> <p>Use <code class="language-plaintext highlighter-rouge">clang-format</code> with our configuration:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Format single file</span>
clang-format <span class="nt">-i</span> src/controller.cpp

<span class="c"># Format all C++ files</span>
find <span class="nb">.</span> <span class="nt">-name</span> <span class="s1">'*.cpp'</span> <span class="nt">-o</span> <span class="nt">-name</span> <span class="s1">'*.h'</span> | xargs clang-format <span class="nt">-i</span>
</code></pre></div></div> <h4 id="header-structure"> <a href="#header-structure" class="anchor-heading" aria-labelledby="header-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Header Structure </h4> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @file vehicle_controller.h
 * @brief Vehicle control system implementation
 * @author Your Name
 * @date 2024-01-01
 */</span>

<span class="cp">#ifndef MODCUBE_CONTROL_VEHICLE_CONTROLLER_H
#define MODCUBE_CONTROL_VEHICLE_CONTROLLER_H
</span>
<span class="cp">#include</span> <span class="cpf">&lt;ros/ros.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;geometry_msgs/Twist.h&gt;</span><span class="cp">
</span>
<span class="k">namespace</span> <span class="n">modcube_control</span> <span class="p">{</span>

<span class="cm">/**
 * @brief Vehicle controller class
 * 
 * Detailed description of the class functionality.
 */</span>
<span class="k">class</span> <span class="nc">VehicleController</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="cm">/**
     * @brief Constructor
     * @param nh ROS node handle
     */</span>
    <span class="k">explicit</span> <span class="n">VehicleController</span><span class="p">(</span><span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span><span class="o">&amp;</span> <span class="n">nh</span><span class="p">);</span>
    
    <span class="cm">/**
     * @brief Update control output
     * @param target_twist Desired velocity
     * @return Control success status
     */</span>
    <span class="kt">bool</span> <span class="n">updateControl</span><span class="p">(</span><span class="k">const</span> <span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span><span class="o">&amp;</span> <span class="n">target_twist</span><span class="p">);</span>
    
<span class="nl">private:</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">NodeHandle</span> <span class="n">nh_</span><span class="p">;</span>
    <span class="n">ros</span><span class="o">::</span><span class="n">Publisher</span> <span class="n">cmd_pub_</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span>  <span class="c1">// namespace modcube_control</span>

<span class="cp">#endif  // MODCUBE_CONTROL_VEHICLE_CONTROLLER_H
</span></code></pre></div></div> <h3 id="python-guidelines"> <a href="#python-guidelines" class="anchor-heading" aria-labelledby="python-guidelines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Python Guidelines </h3> <p>We follow <a href="https://www.python.org/dev/peps/pep-0008/">PEP 8</a> with some ROS-specific conventions:</p> <h4 id="code-style"> <a href="#code-style" class="anchor-heading" aria-labelledby="code-style"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Style </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="sh">"""</span><span class="s">
Vehicle Controller Module

This module implements the main vehicle control system.

Author: Your Name
Date: 2024-01-01
</span><span class="sh">"""</span>

<span class="kn">import</span> <span class="n">rospy</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">geometry_msgs.msg</span> <span class="kn">import</span> <span class="n">Twist</span>
<span class="kn">from</span> <span class="n">modcube_msgs.msg</span> <span class="kn">import</span> <span class="n">ControllerCommand</span>


<span class="k">class</span> <span class="nc">VehicleController</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Vehicle controller class.
    
    This class implements PID control for underwater vehicles.
    
    Attributes:
        node_name (str): ROS node name
        control_rate (float): Control loop frequency in Hz
    </span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">node_name</span><span class="o">=</span><span class="sh">'</span><span class="s">vehicle_controller</span><span class="sh">'</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Initialize the vehicle controller.
        
        Args:
            node_name (str): Name of the ROS node
        </span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">node_name</span> <span class="o">=</span> <span class="n">node_name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">control_rate</span> <span class="o">=</span> <span class="mf">50.0</span>  <span class="c1"># Hz
</span>        
        <span class="c1"># Initialize ROS
</span>        <span class="n">rospy</span><span class="p">.</span><span class="nf">init_node</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">node_name</span><span class="p">)</span>
        
        <span class="c1"># Publishers and subscribers
</span>        <span class="n">self</span><span class="p">.</span><span class="n">cmd_pub</span> <span class="o">=</span> <span class="n">rospy</span><span class="p">.</span><span class="nc">Publisher</span><span class="p">(</span>
            <span class="sh">'</span><span class="s">/modcube/cmd_vel</span><span class="sh">'</span><span class="p">,</span> <span class="n">Twist</span><span class="p">,</span> <span class="n">queue_size</span><span class="o">=</span><span class="mi">10</span>
        <span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">update_control</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">target_twist</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Update control output.
        
        Args:
            target_twist (Twist): Desired velocity
            
        Returns:
            bool: True if control update successful
        </span><span class="sh">"""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Control logic here
</span>            <span class="n">self</span><span class="p">.</span><span class="n">cmd_pub</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">target_twist</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">rospy</span><span class="p">.</span><span class="nf">logerr</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Control update failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">Main function.</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">controller</span> <span class="o">=</span> <span class="nc">VehicleController</span><span class="p">()</span>
        <span class="n">rospy</span><span class="p">.</span><span class="nf">spin</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">rospy</span><span class="p">.</span><span class="n">ROSInterruptException</span><span class="p">:</span>
        <span class="k">pass</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">main</span><span class="p">()</span>
</code></pre></div></div> <h4 id="code-formatting-1"> <a href="#code-formatting-1" class="anchor-heading" aria-labelledby="code-formatting-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Formatting </h4> <p>Use <code class="language-plaintext highlighter-rouge">black</code> for Python code formatting:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Format single file</span>
black src/controller.py

<span class="c"># Format all Python files</span>
black <span class="nb">.</span>

<span class="c"># Check formatting</span>
black <span class="nt">--check</span> <span class="nb">.</span>
</code></pre></div></div> <h3 id="ros-specific-guidelines"> <a href="#ros-specific-guidelines" class="anchor-heading" aria-labelledby="ros-specific-guidelines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS-Specific Guidelines </h3> <h4 id="package-structure"> <a href="#package-structure" class="anchor-heading" aria-labelledby="package-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Package Structure </h4> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>modcube_package/
├── CMakeLists.txt
├── package.xml
├── README.md
├── include/
│   └── modcube_package/
│       └── header.h
├── src/
│   ├── cpp_source.cpp
│   └── python_script.py
├── scripts/
│   └── executable_script.py
├── launch/
│   └── package.launch
├── config/
│   └── parameters.yaml
├── msg/
│   └── CustomMessage.msg
├── srv/
│   └── CustomService.srv
└── test/
    ├── test_cpp.cpp
    └── test_python.py
</code></pre></div></div> <h4 id="launch-files"> <a href="#launch-files" class="anchor-heading" aria-labelledby="launch-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Launch Files </h4> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;launch&gt;</span>
    <span class="c">&lt;!-- Arguments --&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"vehicle_name"</span> <span class="na">default=</span><span class="s">"modcube"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"debug"</span> <span class="na">default=</span><span class="s">"false"</span><span class="nt">/&gt;</span>
    
    <span class="c">&lt;!-- Parameters --&gt;</span>
    <span class="nt">&lt;rosparam</span> <span class="na">file=</span><span class="s">"$(find modcube_config)/config/controller.yaml"</span> <span class="na">command=</span><span class="s">"load"</span><span class="nt">/&gt;</span>
    
    <span class="c">&lt;!-- Nodes --&gt;</span>
    <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">"vehicle_controller"</span> 
          <span class="na">pkg=</span><span class="s">"modcube_control"</span> 
          <span class="na">type=</span><span class="s">"vehicle_controller_node"</span> 
          <span class="na">output=</span><span class="s">"screen"</span>
          <span class="na">if=</span><span class="s">"$(arg debug)"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"vehicle_name"</span> <span class="na">value=</span><span class="s">"$(arg vehicle_name)"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/node&gt;</span>
    
    <span class="c">&lt;!-- Include other launch files --&gt;</span>
    <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"$(find modcube_sensors)/launch/sensors.launch"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">"vehicle_name"</span> <span class="na">value=</span><span class="s">"$(arg vehicle_name)"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</code></pre></div></div> <h2 id="testing-guidelines"> <a href="#testing-guidelines" class="anchor-heading" aria-labelledby="testing-guidelines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing Guidelines </h2> <h3 id="unit-testing"> <a href="#unit-testing" class="anchor-heading" aria-labelledby="unit-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unit Testing </h3> <h4 id="c-tests-google-test"> <a href="#c-tests-google-test" class="anchor-heading" aria-labelledby="c-tests-google-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> C++ Tests (Google Test) </h4> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;gtest/gtest.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;modcube_control/vehicle_controller.h&gt;</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">VehicleControllerTest</span> <span class="o">:</span> <span class="k">public</span> <span class="o">::</span><span class="n">testing</span><span class="o">::</span><span class="n">Test</span> <span class="p">{</span>
<span class="nl">protected:</span>
    <span class="kt">void</span> <span class="n">SetUp</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
        <span class="c1">// Test setup</span>
    <span class="p">}</span>
    
    <span class="kt">void</span> <span class="n">TearDown</span><span class="p">()</span> <span class="k">override</span> <span class="p">{</span>
        <span class="c1">// Test cleanup</span>
    <span class="p">}</span>
    
    <span class="n">modcube_control</span><span class="o">::</span><span class="n">VehicleController</span> <span class="n">controller_</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">TEST_F</span><span class="p">(</span><span class="n">VehicleControllerTest</span><span class="p">,</span> <span class="n">InitializationTest</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Test controller initialization</span>
    <span class="n">EXPECT_TRUE</span><span class="p">(</span><span class="n">controller_</span><span class="p">.</span><span class="n">isInitialized</span><span class="p">());</span>
<span class="p">}</span>

<span class="n">TEST_F</span><span class="p">(</span><span class="n">VehicleControllerTest</span><span class="p">,</span> <span class="n">ControlUpdateTest</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">geometry_msgs</span><span class="o">::</span><span class="n">Twist</span> <span class="n">target</span><span class="p">;</span>
    <span class="n">target</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>
    
    <span class="n">EXPECT_TRUE</span><span class="p">(</span><span class="n">controller_</span><span class="p">.</span><span class="n">updateControl</span><span class="p">(</span><span class="n">target</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">testing</span><span class="o">::</span><span class="n">InitGoogleTest</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">RUN_ALL_TESTS</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="python-tests-pytest"> <a href="#python-tests-pytest" class="anchor-heading" aria-labelledby="python-tests-pytest"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Python Tests (pytest) </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pytest</span>
<span class="kn">import</span> <span class="n">rospy</span>
<span class="kn">from</span> <span class="n">modcube_control.vehicle_controller</span> <span class="kn">import</span> <span class="n">VehicleController</span>


<span class="k">class</span> <span class="nc">TestVehicleController</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Test cases for VehicleController class.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">setup_method</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Set up test fixtures.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">controller</span> <span class="o">=</span> <span class="nc">VehicleController</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">test_initialization</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Test controller initialization.</span><span class="sh">"""</span>
        <span class="k">assert</span> <span class="n">self</span><span class="p">.</span><span class="n">controller</span><span class="p">.</span><span class="n">node_name</span> <span class="o">==</span> <span class="sh">'</span><span class="s">vehicle_controller</span><span class="sh">'</span>
        <span class="k">assert</span> <span class="n">self</span><span class="p">.</span><span class="n">controller</span><span class="p">.</span><span class="n">control_rate</span> <span class="o">==</span> <span class="mf">50.0</span>
    
    <span class="k">def</span> <span class="nf">test_control_update</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Test control update functionality.</span><span class="sh">"""</span>
        <span class="kn">from</span> <span class="n">geometry_msgs.msg</span> <span class="kn">import</span> <span class="n">Twist</span>
        
        <span class="n">target</span> <span class="o">=</span> <span class="nc">Twist</span><span class="p">()</span>
        <span class="n">target</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">controller</span><span class="p">.</span><span class="nf">update_control</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="ow">is</span> <span class="bp">True</span>
    
    <span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="sh">"</span><span class="s">velocity</span><span class="sh">"</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">test_velocity_range</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">velocity</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Test different velocity values.</span><span class="sh">"""</span>
        <span class="kn">from</span> <span class="n">geometry_msgs.msg</span> <span class="kn">import</span> <span class="n">Twist</span>
        
        <span class="n">target</span> <span class="o">=</span> <span class="nc">Twist</span><span class="p">()</span>
        <span class="n">target</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">velocity</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">controller</span><span class="p">.</span><span class="nf">update_control</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="ow">is</span> <span class="bp">True</span>
</code></pre></div></div> <h3 id="integration-testing"> <a href="#integration-testing" class="anchor-heading" aria-labelledby="integration-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration Testing </h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="sh">"""</span><span class="s">
Integration test for vehicle control system.
</span><span class="sh">"""</span>

<span class="kn">import</span> <span class="n">unittest</span>
<span class="kn">import</span> <span class="n">rospy</span>
<span class="kn">import</span> <span class="n">rostest</span>
<span class="kn">from</span> <span class="n">geometry_msgs.msg</span> <span class="kn">import</span> <span class="n">Twist</span>
<span class="kn">from</span> <span class="n">nav_msgs.msg</span> <span class="kn">import</span> <span class="n">Odometry</span>


<span class="k">class</span> <span class="nc">VehicleControlIntegrationTest</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Integration test for vehicle control.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Set up test environment.</span><span class="sh">"""</span>
        <span class="n">rospy</span><span class="p">.</span><span class="nf">init_node</span><span class="p">(</span><span class="sh">'</span><span class="s">vehicle_control_test</span><span class="sh">'</span><span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">cmd_pub</span> <span class="o">=</span> <span class="n">rospy</span><span class="p">.</span><span class="nc">Publisher</span><span class="p">(</span><span class="sh">'</span><span class="s">/modcube/cmd_vel</span><span class="sh">'</span><span class="p">,</span> <span class="n">Twist</span><span class="p">,</span> <span class="n">queue_size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">odom_sub</span> <span class="o">=</span> <span class="n">rospy</span><span class="p">.</span><span class="nc">Subscriber</span><span class="p">(</span><span class="sh">'</span><span class="s">/modcube/odom</span><span class="sh">'</span><span class="p">,</span> <span class="n">Odometry</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">odom_callback</span><span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">latest_odom</span> <span class="o">=</span> <span class="bp">None</span>
        
        <span class="c1"># Wait for connections
</span>        <span class="n">rospy</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">odom_callback</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Handle odometry messages.</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">latest_odom</span> <span class="o">=</span> <span class="n">msg</span>
    
    <span class="k">def</span> <span class="nf">test_forward_motion</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Test forward motion command.</span><span class="sh">"""</span>
        <span class="c1"># Send forward command
</span>        <span class="n">cmd</span> <span class="o">=</span> <span class="nc">Twist</span><span class="p">()</span>
        <span class="n">cmd</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cmd_pub</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        
        <span class="c1"># Wait for response
</span>        <span class="n">timeout</span> <span class="o">=</span> <span class="n">rospy</span><span class="p">.</span><span class="n">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">rospy</span><span class="p">.</span><span class="nc">Duration</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">self</span><span class="p">.</span><span class="n">latest_odom</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">rospy</span><span class="p">.</span><span class="n">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">timeout</span><span class="p">:</span>
            <span class="n">rospy</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        
        <span class="c1"># Check that vehicle is moving forward
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">assertIsNotNone</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">latest_odom</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertGreater</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">latest_odom</span><span class="p">.</span><span class="n">twist</span><span class="p">.</span><span class="n">twist</span><span class="p">.</span><span class="n">linear</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">rostest</span><span class="p">.</span><span class="nf">rosrun</span><span class="p">(</span><span class="sh">'</span><span class="s">modcube_control</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">vehicle_control_integration_test</span><span class="sh">'</span><span class="p">,</span> 
                   <span class="n">VehicleControlIntegrationTest</span><span class="p">)</span>
</code></pre></div></div> <h3 id="running-tests"> <a href="#running-tests" class="anchor-heading" aria-labelledby="running-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running Tests </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Run C++ tests</span>
catkin_make run_tests_modcube_control

<span class="c"># Run Python tests</span>
python <span class="nt">-m</span> pytest src/modcube_control/test/

<span class="c"># Run ROS tests</span>
rostest modcube_control vehicle_control_test.test

<span class="c"># Run all tests</span>
catkin_make run_tests
</code></pre></div></div> <h2 id="documentation-1"> <a href="#documentation-1" class="anchor-heading" aria-labelledby="documentation-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Documentation </h2> <h3 id="code-documentation"> <a href="#code-documentation" class="anchor-heading" aria-labelledby="code-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Documentation </h3> <h4 id="doxygen-for-c"> <a href="#doxygen-for-c" class="anchor-heading" aria-labelledby="doxygen-for-c"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Doxygen for C++ </h4> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @brief Calculate PID control output
 * 
 * This function computes the PID control output based on the error
 * between the setpoint and current value.
 * 
 * @param setpoint Desired value
 * @param current_value Current measured value
 * @param dt Time step in seconds
 * @return Control output value
 * 
 * @note This function assumes that the PID gains have been properly set
 * @warning Large time steps may cause instability
 * 
 * @see setPIDGains()
 * @since Version 1.0
 */</span>
<span class="kt">double</span> <span class="nf">calculatePID</span><span class="p">(</span><span class="kt">double</span> <span class="n">setpoint</span><span class="p">,</span> <span class="kt">double</span> <span class="n">current_value</span><span class="p">,</span> <span class="kt">double</span> <span class="n">dt</span><span class="p">);</span>
</code></pre></div></div> <h4 id="docstrings-for-python"> <a href="#docstrings-for-python" class="anchor-heading" aria-labelledby="docstrings-for-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docstrings for Python </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calculate_pid</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">current_value</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Calculate PID control output.
    
    This function computes the PID control output based on the error
    between the setpoint and current value.
    
    Args:
        setpoint (float): Desired value
        current_value (float): Current measured value
        dt (float): Time step in seconds
        
    Returns:
        float: Control output value
        
    Raises:
        ValueError: If dt is negative or zero
        
    Note:
        This function assumes that the PID gains have been properly set.
        
    Warning:
        Large time steps may cause instability.
        
    Example:
</span><span class="gp">        &gt;&gt;&gt;</span> <span class="n">controller</span> <span class="o">=</span> <span class="nc">PIDController</span><span class="p">()</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="n">output</span> <span class="o">=</span> <span class="n">controller</span><span class="p">.</span><span class="nf">calculate_pid</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
        <span class="o">&gt;&gt;&gt;</span> <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Control output: </span><span class="si">{</span><span class="n">output</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="sh">"""</span>
    <span class="k">if</span> <span class="n">dt</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">Time step must be positive</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># PID calculation logic
</span>    <span class="k">pass</span>
</code></pre></div></div> <h3 id="readme-files"> <a href="#readme-files" class="anchor-heading" aria-labelledby="readme-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> README Files </h3> <p>Each package should have a comprehensive README:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># ModCube Control</span>

This package provides control algorithms for the ModCube underwater vehicle.

<span class="gu">## Overview</span>

The control system implements various control strategies including:
<span class="p">-</span> PID control for position and velocity
<span class="p">-</span> Adaptive control for changing conditions
<span class="p">-</span> Formation control for multi-vehicle operations

<span class="gu">## Installation</span>

<span class="p">```</span><span class="nl">bash
</span><span class="c"># Clone repository</span>
git clone https://github.com/your-org/RS-ModCubes.git

<span class="c"># Build package</span>
catkin_make
</code></pre></div></div> <h2 id="usage"> <a href="#usage" class="anchor-heading" aria-labelledby="usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Usage </h2> <h3 id="basic-control"> <a href="#basic-control" class="anchor-heading" aria-labelledby="basic-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic Control </h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Launch control system</span>
roslaunch modcube_control vehicle_control.launch

<span class="c"># Send velocity command</span>
rostopic pub /modcube/cmd_vel geometry_msgs/Twist <span class="s2">"linear: {x: 1.0}"</span>
</code></pre></div></div> <h3 id="configuration"> <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration </h3> <p>Edit <code class="language-plaintext highlighter-rouge">config/controller.yaml</code> to adjust control parameters:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">controller</span><span class="pi">:</span>
  <span class="na">pid_gains</span><span class="pi">:</span>
    <span class="na">position</span><span class="pi">:</span>
      <span class="na">x</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">p</span><span class="pi">:</span> <span class="nv">2.0</span><span class="pi">,</span> <span class="nv">i</span><span class="pi">:</span> <span class="nv">0.1</span><span class="pi">,</span> <span class="nv">d</span><span class="pi">:</span> <span class="nv">0.5</span><span class="pi">}</span>
</code></pre></div></div> <h2 id="api-reference"> <a href="#api-reference" class="anchor-heading" aria-labelledby="api-reference"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> API Reference </h2> <h3 id="classes"> <a href="#classes" class="anchor-heading" aria-labelledby="classes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Classes </h3> <ul> <li><code class="language-plaintext highlighter-rouge">VehicleController</code>: Main control class</li> <li><code class="language-plaintext highlighter-rouge">PIDController</code>: PID control implementation</li> </ul> <h3 id="topics"> <a href="#topics" class="anchor-heading" aria-labelledby="topics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Topics </h3> <ul> <li><code class="language-plaintext highlighter-rouge">/modcube/cmd_vel</code> (geometry_msgs/Twist): Velocity commands</li> <li><code class="language-plaintext highlighter-rouge">/modcube/odom</code> (nav_msgs/Odometry): Vehicle odometry</li> </ul> <h3 id="services"> <a href="#services" class="anchor-heading" aria-labelledby="services"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Services </h3> <ul> <li><code class="language-plaintext highlighter-rouge">/modcube/set_pid_gains</code>: Update PID parameters</li> </ul> <h2 id="testing-1"> <a href="#testing-1" class="anchor-heading" aria-labelledby="testing-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Run unit tests</span>
catkin_make run_tests_modcube_control

<span class="c"># Run integration tests</span>
rostest modcube_control integration_test.test
</code></pre></div></div> <h2 id="contributing"> <a href="#contributing" class="anchor-heading" aria-labelledby="contributing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contributing </h2> <p>See <a href="../CONTRIBUTING.md">CONTRIBUTING.md</a> for contribution guidelines.</p> <h2 id="license"> <a href="#license" class="anchor-heading" aria-labelledby="license"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> License </h2> <p>This project is licensed under the MIT License - see <a href="../LICENSE">LICENSE</a> for details.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
## Pull Request Process

### Before Submitting

1. **Test your changes** thoroughly
2. **Update documentation** as needed
3. **Follow coding standards**
4. **Write descriptive commit messages**
5. **Rebase on latest develop branch**

### Pull Request Template

Use this template for your pull requests:

```markdown
## Description

Brief description of the changes made.

## Type of Change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [ ] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] Documentation update

## Testing

- [ ] Unit tests pass
- [ ] Integration tests pass
- [ ] Manual testing completed
- [ ] Hardware testing completed (if applicable)

## Checklist

- [ ] My code follows the style guidelines
- [ ] I have performed a self-review of my code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my feature works
- [ ] New and existing unit tests pass locally with my changes

## Screenshots (if applicable)

Add screenshots to help explain your changes.

## Additional Notes

Any additional information that reviewers should know.
</code></pre></div></div> <h3 id="review-process"> <a href="#review-process" class="anchor-heading" aria-labelledby="review-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Review Process </h3> <ol> <li><strong>Automated checks</strong> must pass (CI/CD)</li> <li><strong>Code review</strong> by at least one maintainer</li> <li><strong>Testing</strong> in simulation and hardware (if applicable)</li> <li><strong>Documentation review</strong></li> <li><strong>Final approval</strong> and merge</li> </ol> <h2 id="community-guidelines"> <a href="#community-guidelines" class="anchor-heading" aria-labelledby="community-guidelines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Community Guidelines </h2> <h3 id="code-of-conduct"> <a href="#code-of-conduct" class="anchor-heading" aria-labelledby="code-of-conduct"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code of Conduct </h3> <p>We are committed to providing a welcoming and inclusive environment. Please:</p> <ul> <li><strong>Be respectful</strong> and considerate</li> <li><strong>Be collaborative</strong> and helpful</li> <li><strong>Be patient</strong> with newcomers</li> <li><strong>Focus on constructive feedback</strong></li> <li><strong>Respect different viewpoints</strong></li> </ul> <h3 id="communication-channels"> <a href="#communication-channels" class="anchor-heading" aria-labelledby="communication-channels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Communication Channels </h3> <ul> <li><strong>GitHub Issues</strong>: Bug reports and feature requests</li> <li><strong>GitHub Discussions</strong>: General questions and discussions</li> <li><strong>Slack/Discord</strong>: Real-time communication (if available)</li> <li><strong>Mailing List</strong>: Announcements and important updates</li> </ul> <h3 id="getting-help"> <a href="#getting-help" class="anchor-heading" aria-labelledby="getting-help"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting Help </h3> <p>If you need help:</p> <ol> <li><strong>Check documentation</strong> first</li> <li><strong>Search existing issues</strong> on GitHub</li> <li><strong>Ask in discussions</strong> or community channels</li> <li><strong>Create a new issue</strong> if needed</li> </ol> <h2 id="recognition"> <a href="#recognition" class="anchor-heading" aria-labelledby="recognition"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recognition </h2> <p>We value all contributions and recognize contributors through:</p> <h3 id="contributors-list"> <a href="#contributors-list" class="anchor-heading" aria-labelledby="contributors-list"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contributors List </h3> <p>All contributors are listed in:</p> <ul> <li><code class="language-plaintext highlighter-rouge">CONTRIBUTORS.md</code> file</li> <li>GitHub contributors page</li> <li>Release notes</li> </ul> <h3 id="contribution-types-1"> <a href="#contribution-types-1" class="anchor-heading" aria-labelledby="contribution-types-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contribution Types </h3> <p>We recognize various contribution types:</p> <ul> <li>💻 Code</li> <li>📖 Documentation</li> <li>🐛 Bug reports</li> <li>💡 Ideas</li> <li>🤔 Answering questions</li> <li>⚠️ Tests</li> <li>🔧 Tools</li> <li>🌍 Translation</li> </ul> <h3 id="special-recognition"> <a href="#special-recognition" class="anchor-heading" aria-labelledby="special-recognition"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Special Recognition </h3> <ul> <li><strong>Maintainer status</strong> for consistent, high-quality contributions</li> <li><strong>Featured contributions</strong> in release announcements</li> <li><strong>Conference presentations</strong> opportunities</li> <li><strong>Academic collaboration</strong> for research contributions</li> </ul> <h2 id="development-roadmap"> <a href="#development-roadmap" class="anchor-heading" aria-labelledby="development-roadmap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Development Roadmap </h2> <h3 id="current-priorities"> <a href="#current-priorities" class="anchor-heading" aria-labelledby="current-priorities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Current Priorities </h3> <ol> <li><strong>Performance optimization</strong></li> <li><strong>Hardware driver expansion</strong></li> <li><strong>Advanced control algorithms</strong></li> <li><strong>Multi-vehicle coordination</strong></li> <li><strong>Machine learning integration</strong></li> </ol> <h3 id="how-to-get-involved"> <a href="#how-to-get-involved" class="anchor-heading" aria-labelledby="how-to-get-involved"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Get Involved </h3> <ul> <li><strong>Check the roadmap</strong> for current priorities</li> <li><strong>Look for “good first issue” labels</strong></li> <li><strong>Join planning discussions</strong></li> <li><strong>Propose new features</strong></li> </ul> <h2 id="resources"> <a href="#resources" class="anchor-heading" aria-labelledby="resources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Resources </h2> <h3 id="learning-materials"> <a href="#learning-materials" class="anchor-heading" aria-labelledby="learning-materials"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning Materials </h3> <ul> <li><a href="http://wiki.ros.org/ROS/Tutorials">ROS Tutorials</a></li> <li><a href="https://example.com">Underwater Robotics Handbook</a></li> <li><a href="https://example.com">Control Systems Theory</a></li> <li><a href="https://example.com">Git Workflow Guide</a></li> </ul> <h3 id="tools-and-references"> <a href="#tools-and-references" class="anchor-heading" aria-labelledby="tools-and-references"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tools and References </h3> <ul> <li><a href="http://wiki.ros.org/StyleGuide">ROS Style Guide</a></li> <li><a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a></li> <li><a href="https://www.python.org/dev/peps/pep-0008/">PEP 8 Python Style Guide</a></li> <li><a href="https://www.conventionalcommits.org/">Conventional Commits</a></li> </ul><hr /> <p>Thank you for contributing to RS-ModCubes! Your efforts help advance underwater robotics research and applications worldwide.</p> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2024 Jiaxi Zheng. Distributed by an <a href="https://github.com/jiaxi-zheng/ModCube.github.io/tree/main/LICENSE">MIT license.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
